{% extends 'clgbook/base.html' %}
{% load static %}

{% block link %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}

{% block title %}
<title>CollegeStack - Account Delete</title>
{% endblock %}

{% block content %}

{% include 'clgbook/navbar.html' %}

<div class="container mt-3 mb-5" style="max-width: 45rem; border:none;">
    <div class="card" style="border:none;">
        <div class="card-body">
            <div class="_imgVFT text-center">
                {% if clg_data %}
                {% for cd in clg_data %}
                <img width="130" height="130" style="border-radius: 50%;" src="{{cd.clg_image.url}}" alt="">
                {% endfor %}
                {% else %}
                <svg width="130" height="130" style="border-radius: 50%;border: 1px solid#adadad;" fill="#adadad"
                    class="bi bi-card-image" viewBox="0 0 16 16">
                    <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" />
                    <path
                        d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54A.505.505 0 0 1 1 12.5v-9a.5.5 0 0 1 .5-.5h13z" />
                </svg>
                {% endif %}
            </div>
            <div class="_gbvfok mt-3 text-center">
                <h6 class="card-title">{{request.user.username}}</h6>
            </div>
        </div>
        <div class="card-body">
            <div class="row row-cols-1 row-cols-md-2 g-4">
                <div class="col">
                    <div class="card mb-5">
                        <div class="card-body text-center">
                            <h5 class="card-title">Contact No.</h5>
                            <h6 class="card-title">{{request.user.phone}}</h6>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card mb-5">
                        <div class="card-body text-center">
                            <h5 class="card-title">Email Id</h5>
                            <h6 class="card-title">{{request.user.email}}</h6>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card mb-5">
                        <div class="card-body text-center">
                            <h5 class="card-title">Joined Date & Time</h5>
                            <h6 class="card-title">{{request.user.date_joined}}</h6>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card mb-5">
                        <div class="card-body text-center">
                            <h5 class="card-title">Last Login & Time</h5>
                            <h6 class="card-title">{{request.user.last_login}}</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-body">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-outline text-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Delete {{request.user.username}}
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="_haed_cloe m-2" style="text-align: right;">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body p-5">
                            <div class="_tibgv text-center">
                                <p class="tilfbg">If you delete your {{request.user.username}} account so your all of
                                    students and faculties data are also deleted.</p>
                            </div>
                            <div class="_BTNJHU text-center mt-4 mb-4">
                                <form action="{% url 'delete' request.user.id %}" method="POST">
                                    {% csrf_token %}
                                    <input type="submit" class="btn btn-danger" value="Delete Account">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}